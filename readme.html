<!DOCTYPE html>
<html >
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
      <title>Cookiecutter PyPackage (romnnn)</title>
    
      <link rel="stylesheet" href="_static/pygments.css">
      <link rel="stylesheet" href="_static/theme.css">
      <link rel="stylesheet" href="_static/romnnn_sphinx_press_theme.css">
      
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>

      <!-- sphinx script_files -->
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>

      
      <script src="_static/theme-vendors.js"></script>
      <script src="_static/theme.js" defer></script>
    
  <link rel="index" title="Index" href="genindex.html" />
  <link rel="search" title="Search" href="search.html" />
  <link rel="next" title="Tutorial" href="tutorial.html" />
  <link rel="prev" title="Welcome to romnnn-cookiecutter-pypackage’s documentation!" href="index.html" /> 
  </head>

  <body>
    <div id="app" class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <div class="home-link-container">
      <router-link to="index.html" class="home-link">
      
        <span class="site-name">romnnn-cookiecutter-pypackage</span>
    </router-link>
  </div>

  <div class="links">
    <navlinks class="can-hide">

  
    <div class="nav-item">
      <a href="index.html#getting-started"
         class="nav-link  router-link-active">
         getting started
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#basics"
         class="nav-link ">
         basics
      </a>
    </div>
  



  
    <div class="nav-item">
      <a href="https://github.com/romnnn/cookiecutter-pypackage"
        class="nav-link external">
          Github <outboundlink/>
      </a>
    </div>
  

    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            

  
    <div class="nav-item">
      <a href="index.html#getting-started"
         class="nav-link  router-link-active">
         getting started
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#basics"
         class="nav-link ">
         basics
      </a>
    </div>
  



  
    <div class="nav-item">
      <a href="https://github.com/romnnn/cookiecutter-pypackage"
        class="nav-link external">
          Github <outboundlink/>
      </a>
    </div>
  

            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Search</span>
    <div class="searchformwrapper">
      <form autocomplete="off" class="search" action="search.html" method="get">
        <input type="text" name="q" autocomplete="off" />
        <input type="submit" value="Go" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#getting-started">getting started</a></span>
      </p>
      <ul class="current">
        
          <li class="toctree-l1 current"><a href="#" class="reference internal current">Cookiecutter PyPackage (romnnn)</a>

            
              <ul>
                
                  <li class="toctree-l2"><a href="#features" class="reference internal">Features</a></li>
                
                  <li class="toctree-l2"><a href="#quickstart" class="reference internal">Quickstart</a></li>
                
                  <li class="toctree-l2"><a href="#documentation" class="reference internal">Documentation</a></li>
                
              </ul>
            
          </li>

        
          <li class="toctree-l1 "><a href="tutorial.html" class="reference internal ">Tutorial</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="pypi_release_checklist.html" class="reference internal ">PyPI Release Checklist</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#basics">basics</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="prompts.html" class="reference internal ">Prompts</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="invoke.html" class="reference internal ">Invoke</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="versions.html" class="reference internal ">Version Management</a>

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
    
    <li>Cookiecutter PyPackage (romnnn)</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="index.html"
       title="previous chapter">← Welcome to romnnn-cookiecutter-pypackage’s documentation!</a>
  </li>
  <li class="next">
    <a href="tutorial.html"
       title="next chapter">Tutorial →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main">
            
  <div class="section" id="cookiecutter-pypackage-romnnn">
<h1>Cookiecutter PyPackage (romnnn)<a class="headerlink" href="#cookiecutter-pypackage-romnnn" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://travis-ci.com/romnnn/cookiecutter-pypackage"><img alt="Build status" src="https://travis-ci.com/romnnn/cookiecutter-pypackage.svg?branch=master" /></a>
<a class="reference external image-reference" href="https://romnnn-cookiecutter-pypackage.readthedocs.io/en/latest/?badge=latest"><img alt="Documentation Status" src="https://readthedocs.org/projects/romnnn-cookiecutter-pypackage/badge/?version=latest" /></a>
<p>Opinionated <code class="docutils literal notranslate"><span class="pre">cookiecutter</span></code> template for python packages, forked from <a class="reference external" href="https://github.com/briggySmalls/cookiecutter-pypackage">briggySmalls/cookiecutter-pypackage</a>.</p>
<p>The key features of this template include:</p>
<ul class="simple">
<li><p>Dependency tracking using <code class="docutils literal notranslate"><span class="pre">pipenv</span></code></p></li>
<li><p>Linting using <code class="docutils literal notranslate"><span class="pre">flake8</span></code></p></li>
<li><p>Formatting provided by <code class="docutils literal notranslate"><span class="pre">black</span></code> and <code class="docutils literal notranslate"><span class="pre">isort</span></code></p></li>
<li><p>Automatic documentation from Google style docstrings with <code class="docutils literal notranslate"><span class="pre">sphinx</span></code></p></li>
<li><p>All development tasks (<code class="docutils literal notranslate"><span class="pre">lint</span></code>, <code class="docutils literal notranslate"><span class="pre">format</span></code>, <code class="docutils literal notranslate"><span class="pre">test</span></code>, etc) wrapped up in a cli by <code class="docutils literal notranslate"><span class="pre">invoke</span></code></p></li>
<li><p>Automatic deployment to <a class="reference external" href="https://pypi.org">PyPI</a></p></li>
<li><p>Automatic publishing of your documentation to <a class="reference external" href="https://pages.github.com/">GitHub Pages</a></p></li>
</ul>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<p>This template has most of the features of the original <a class="reference external" href="https://github.com/briggySmalls/cookiecutter-pypackage">briggySmalls/cookiecutter-pypackage</a>
(which is based on <a class="reference external" href="https://github.com/audreyr/cookiecutter-pypackage">audreyr/cookiecutter-pypackage</a>), but has been configured
to my personal needs and modified for ease of use and simplicity.</p>
<p>The following features have been <strong>removed</strong>:</p>
<ul class="simple">
<li><p>Support for <code class="docutils literal notranslate"><span class="pre">python2</span></code>. It’s finally over! :tada:</p></li>
<li><p>Support for bootstrapping multiple licenses. MIT is used.</p></li>
<li><p>Support for bootstrapping multiple testing frameworks. <code class="docutils literal notranslate"><span class="pre">pytest</span></code> is used.</p></li>
<li><p>Optional Google docstrings are now default.</p></li>
<li><p>Only <code class="docutils literal notranslate"><span class="pre">flake8</span></code> (no more <code class="docutils literal notranslate"><span class="pre">pylint</span></code>) is used for linting</p></li>
<li><p>No more <code class="docutils literal notranslate"><span class="pre">HISTORY.rst</span></code> file. Must be manually included for projects that require it.</p></li>
<li><p><a class="reference external" href="https://www.appveyor.com/">AppVeyor</a> continuous integration. Only <a class="reference external" href="https://travis-ci.com">Travis-CI</a> is used.</p></li>
</ul>
<p>The following features have been <strong>changed</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">yapf</span></code> was replaced by <code class="docutils literal notranslate"><span class="pre">black</span></code> for formatting python code</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">alabaster</span></code> was replaced by <code class="docutils literal notranslate"><span class="pre">press</span></code> as the default documentation theme</p></li>
</ul>
<p>The following features have been <strong>added</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pre-commit</span></code> hooks that are automatically installed and run before every commit</p></li>
<li><p>Aggressive type-checking using <code class="docutils literal notranslate"><span class="pre">mypy</span></code></p></li>
<li><p>good test coverage is a requirement</p></li>
<li><p>Automatic initialization of a <code class="docutils literal notranslate"><span class="pre">git</span></code> repository post generation</p></li>
<li><p>Automatic installation of development dependencies post generation</p></li>
<li><p>Automatic deployment to <a class="reference external" href="https://pages.github.com/">GitHub Pages</a> of the documentation.</p></li>
</ul>
</div>
<div class="section" id="quickstart">
<h2>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h2>
<p>Install <code class="docutils literal notranslate"><span class="pre">cookiecutter&gt;=1.4.0</span></code> if you haven’t already:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install -U cookiecutter
</pre></div>
</div>
<p>Generate your python project (you will be asked for the project name etc):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> cookiecutter https://github.com/romnnn/cookiecutter-pypackage.git
</pre></div>
</div>
<p>After your project was created:</p>
<ul>
<li><p>Create a remote repository and publish your package:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> &lt;mypackage&gt;
<span class="gp">$</span> git remote add origin git@github.com:myusername/mypackage.git
<span class="gp">$</span> git add .
<span class="gp">$</span> git commit -m <span class="s2">&quot;Initial commit&quot;</span>
<span class="gp">$</span> git push origin master
</pre></div>
</div>
</li>
<li><p>Activate the project’s virtual environment with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> pipenv shell
</pre></div>
</div>
<p>When your environment is active, you should see the name of your package in your command prompt.</p>
<p>If you receive an error <code class="docutils literal notranslate"><span class="pre">Shell</span> <span class="pre">for</span> <span class="pre">UNKNOWN_VIRTUAL_ENVIRONMENT</span> <span class="pre">already</span> <span class="pre">activated.</span></code>,
it is likely that you are inside another shell that has been started sometime ago.
Run <code class="docutils literal notranslate"><span class="pre">exit</span></code> and try again.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When you are done working on this project, run <code class="docutils literal notranslate"><span class="pre">deactivate</span></code> to deactivate the environment.</p>
</div>
</li>
<li><p>Make an initial release of your package to <a class="reference external" href="https://pypi.org">PyPI</a>. You will be asked for your credentials:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install twine
<span class="gp">$</span> python setup.py sdist
<span class="gp">$</span> twine upload dist/*
</pre></div>
</div>
</li>
<li><p>Get a deployment token for your package on <a class="reference external" href="https://pypi.org">PyPI</a> under <code class="docutils literal notranslate"><span class="pre">Manage</span> <span class="pre">&gt;</span> <span class="pre">Settings</span> <span class="pre">&gt;</span> <span class="pre">Create</span> <span class="pre">token</span></code>.
It is good practice to use your package name as the token description and restrict access to only this package.Make sure to copy to copy the token as we will use it in the next steps.</p></li>
<li><p>Add the repo to your <a class="reference external" href="https://travis-ci.com">Travis-CI</a> account. If you have connected travis with GitHub this is done automatically.</p></li>
<li><p><a class="reference external" href="https://github.com/travis-ci/travis.rb#installation">Install the Travis CLI</a> and run:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> travis encrypt &lt;your-token&gt; --add deploy.password         <span class="c1"># When using travis.org</span>
<span class="gp">$</span> travis encrypt &lt;your-token&gt; --add deploy.password --com   <span class="c1"># When using travis.com</span>
</pre></div>
</div>
<p>to automatically encrypt your PyPI token into your <code class="docutils literal notranslate"><span class="pre">.travis.yml</span></code> config.</p>
<p>Unfortunately, the travis cli tool appends the token outside of any build stage,
so you need to manually edit the <code class="docutils literal notranslate"><span class="pre">.travis.yml</span></code> config or run:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> invoke fix-token
</pre></div>
</div>
<p>Now you can push the new <code class="docutils literal notranslate"><span class="pre">.travis.yml</span></code> to your remote repository:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> git add .travis.yml
<span class="gp">$</span> git commit -m <span class="s2">&quot;Add PyPI deployment token&quot;</span>
<span class="gp">$</span> git push
</pre></div>
</div>
</li>
<li><p>Add the repo to your <a class="reference external" href="https://readthedocs.org/">ReadTheDocs</a> account under <code class="docutils literal notranslate"><span class="pre">My</span> <span class="pre">Projects</span> <span class="pre">&gt;</span> <span class="pre">Import</span> <span class="pre">Project</span></code> and enable the service hook
if you did not connect ReadTheDocs to your GitHub.</p></li>
<li><p>If you wish to also publish your documentation on <a class="reference external" href="https://pages.github.com/">GitHub Pages</a>,
<a class="reference external" href="https://github.com/settings/tokens">generate a GitHub access token</a> for <cite>repo:public_repo</cite> and set this
token in your travis build settings at <a class="reference external" href="https://travis-ci.com/myusername/mypackage/settings">https://travis-ci.com/myusername/mypackage/settings</a>
as a secret environment variable <code class="docutils literal notranslate"><span class="pre">GH_TOKEN</span></code>.</p>
<p>If you do not want to deploy to <a class="reference external" href="https://pages.github.com/">GitHub Pages</a>, remove the <code class="docutils literal notranslate"><span class="pre">deploy</span> <span class="pre">pages</span></code> build stage from <code class="docutils literal notranslate"><span class="pre">.travis.yml</span></code>.</p>
</li>
<li><p>Start coding! Add your package dependencies to your <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> and <code class="docutils literal notranslate"><span class="pre">Pipfile</span></code> as you go,
and lock them into your virtual environment with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> pipenv install --dev
</pre></div>
</div>
</li>
<li><p>Release new versions of your package by pushing a new tag to master:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> bump2version <span class="o">(</span>major <span class="p">|</span> minor <span class="p">|</span> patch<span class="o">)</span>
<span class="gp">$</span> git push
<span class="gp">$</span> git push --tags
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>If you need more guidance I encourage you to have a look at the <a class="reference external" href="https://romnnn-cookiecutter-pypackage.readthedocs.io/en/latest/">more extensive documentation</a>.</p>
</div>
</div>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="index.html"
       title="previous chapter">← Welcome to romnnn-cookiecutter-pypackage’s documentation!</a>
  </li>
  <li class="next">
    <a href="tutorial.html"
       title="next chapter">Tutorial →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2020, romnnn.
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.3.1 with <a href="https://github.com/romnnn/sphinx_press_theme">Press Theme</a>.
</div>
            </div>
          </div>
      </page>
    </div>
    
    
  </body>
</html>